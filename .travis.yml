language: java
cache:
  directories:
  - $HOME/.m2
jdk:
  - oraclejdk8
  - oraclejdk9
#  - openjdk10
  - oraclejdk11
env:
  - PROFILES=javac
  - PROFILES=jdt
  - PROFILES=javac,el3
  - PROFILES=jdt,el3
  - PROFILES=javac,java9
  - PROFILES=jdt,java9
  - PROFILES=javac,el3,java9
  - PROFILES=jdt,el3,java9

matrix:
  exclude:

    - jdk: oraclejdk8
      env: PROFILES=javac,java9
    - jdk: oraclejdk8
      env: PROFILES=jdt,java9
    - jdk: oraclejdk8
      env: PROFILES=javac,el3,java9
    - jdk: oraclejdk8
      env: PROFILES=jdt,el3,java9
# TODO: Nur f√ºr openjdk
# before_install:
#  - rm "${JAVA_HOME}/lib/security/cacerts"
#  - ln -s /etc/ssl/certs/java/cacerts "${JAVA_HOME}/lib/security/cacerts"
install: "mvn help:active-profiles help:effective-pom help:effective-settings -P ${PROFILES},-standard-with-extra-repos"
script: "mvn clean install -U -P ${PROFILES},-standard-with-extra-repos -Dmaven.javadoc.skip=true"
